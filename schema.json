{
  "title": "BaseParser",
  "type": "object",
  "properties": {
    "agent": {
      "$ref": "#/definitions/PPOAgent"
    },
    "environment": {
      "$ref": "#/definitions/Environment"
    }
  },
  "required": [
    "agent",
    "environment"
  ],
  "definitions": {
    "Schedule": {
      "title": "Schedule",
      "description": "Exponential Scheduler function is as follows:\n\nend_value + (start_value-end_value) * e^(exponent*value) \n\nThere is an extra clipping step to absolutely ensure that the end value is in between upper and lower bound.",
      "type": "object",
      "properties": {
        "exponent": {
          "title": "Exponent",
          "exclusiveMaximum": 0.0,
          "type": "number"
        },
        "start_value": {
          "title": "Start Value",
          "exclusiveMinimum": 0.0,
          "maximum": 1.0,
          "type": "number"
        },
        "end_value": {
          "title": "End Value",
          "default": 0,
          "exclusiveMinimum": 0.0,
          "maximum": 1.0,
          "type": "number"
        }
      },
      "required": [
        "exponent",
        "start_value"
      ]
    },
    "PPOAgent": {
      "title": "PPOAgent",
      "description": "PPO definition for the stable_baselines3 implementation for this algorithm. Variable comments are taken from the stable_baselines3 docu.\n\nArgs:\n    BaseModel ([type]): [description]",
      "type": "object",
      "properties": {
        "type": {
          "title": "Type",
          "enum": [
            "PPO"
          ],
          "type": "string"
        },
        "learning_rate": {
          "title": "Learning Rate",
          "default": 0.0003,
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Schedule"
            }
          ]
        },
        "n_steps": {
          "title": "N Steps",
          "default": 2048,
          "type": "integer"
        },
        "batch_size": {
          "title": "Batch Size",
          "default": 64,
          "type": "integer"
        },
        "n_epochs": {
          "title": "N Epochs",
          "default": 10,
          "type": "integer"
        },
        "gamma": {
          "title": "Gamma",
          "default": 0.99,
          "type": "number"
        },
        "gae_lambda": {
          "title": "Gae Lambda",
          "default": 0.95,
          "type": "number"
        },
        "clip_range": {
          "title": "Clip Range",
          "default": 0.2,
          "anyOf": [
            {
              "type": "number"
            },
            {
              "$ref": "#/definitions/Schedule"
            }
          ]
        },
        "ent_coef": {
          "title": "Ent Coef",
          "default": 0.0,
          "type": "number"
        },
        "vf_coef": {
          "title": "Vf Coef",
          "default": 0.5,
          "type": "number"
        },
        "seed": {
          "title": "Seed",
          "type": "integer"
        }
      },
      "required": [
        "type"
      ]
    },
    "MultiProcessing": {
      "title": "MultiProcessing",
      "type": "object",
      "properties": {
        "number_of_cores": {
          "title": "Number Of Cores",
          "minimum": 1,
          "type": "integer"
        }
      },
      "required": [
        "number_of_cores"
      ]
    },
    "SplineSpaceDimension": {
      "title": "SplineSpaceDimension",
      "type": "object",
      "properties": {
        "name": {
          "title": "Name",
          "type": "string"
        },
        "number_of_points": {
          "title": "Number Of Points",
          "minimum": 1,
          "type": "integer"
        },
        "degree": {
          "title": "Degree",
          "minimum": 1,
          "type": "integer"
        },
        "knot_vector": {
          "title": "Knot Vector",
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      },
      "required": [
        "name",
        "number_of_points",
        "degree",
        "knot_vector"
      ]
    },
    "VariableLocation": {
      "title": "VariableLocation",
      "type": "object",
      "properties": {
        "current_position": {
          "title": "Current Position",
          "minimum": 0,
          "maximum": 1,
          "type": "number"
        },
        "min_value": {
          "title": "Min Value",
          "minimum": 0,
          "maximum": 1,
          "type": "number"
        },
        "max_value": {
          "title": "Max Value",
          "minimum": 0,
          "maximum": 1,
          "type": "number"
        },
        "discrete": {
          "title": "Discrete",
          "default": false,
          "type": "boolean"
        },
        "n_steps": {
          "title": "N Steps",
          "default": 10,
          "minimum": 1,
          "type": "integer"
        },
        "step": {
          "title": "Step",
          "minimum": 0,
          "maximum": 1,
          "type": "number"
        }
      },
      "required": [
        "current_position"
      ]
    },
    "SplineDefinition": {
      "title": "SplineDefinition",
      "type": "object",
      "properties": {
        "space_dimensions": {
          "title": "Space Dimensions",
          "type": "array",
          "items": {
            "$ref": "#/definitions/SplineSpaceDimension"
          }
        },
        "spline_dimension": {
          "title": "Spline Dimension",
          "minimum": 1,
          "type": "integer"
        },
        "number_of_element_variables": {
          "title": "Number Of Element Variables",
          "minimum": 0,
          "type": "integer"
        },
        "control_point_variables": {
          "title": "Control Point Variables",
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "array",
                "items": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 1
                }
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/VariableLocation"
                }
              }
            ]
          }
        },
        "weights": {
          "title": "Weights",
          "default": [],
          "type": "array",
          "items": {
            "type": "number"
          }
        }
      },
      "required": [
        "space_dimensions",
        "spline_dimension",
        "number_of_element_variables",
        "control_point_variables"
      ]
    },
    "Spline": {
      "title": "Spline",
      "type": "object",
      "properties": {
        "spline_type": {
          "title": "Spline Type",
          "enum": [
            1
          ],
          "type": "integer"
        },
        "spline_definition": {
          "$ref": "#/definitions/SplineDefinition"
        }
      },
      "required": [
        "spline_type",
        "spline_definition"
      ]
    },
    "Mesh": {
      "title": "Mesh",
      "type": "object",
      "properties": {
        "location": {
          "title": "Location",
          "default": "local",
          "enum": [
            "local",
            "remote"
          ],
          "type": "string"
        },
        "path": {
          "title": "Path",
          "format": "file-path",
          "type": "string"
        }
      },
      "required": [
        "path"
      ]
    },
    "MultiProcessor": {
      "title": "MultiProcessor",
      "type": "object",
      "properties": {
        "command": {
          "title": "Command",
          "default": "mpiexec -np",
          "type": "string"
        },
        "max_core_count": {
          "title": "Max Core Count",
          "minimum": 1,
          "type": "integer"
        }
      },
      "required": [
        "max_core_count"
      ]
    },
    "CommandLineSolver": {
      "title": "CommandLineSolver",
      "type": "object",
      "properties": {
        "multi_processor": {
          "$ref": "#/definitions/MultiProcessor"
        },
        "working_directory": {
          "title": "Working Directory",
          "format": "directory-path",
          "type": "string"
        },
        "execution_command": {
          "title": "Execution Command",
          "type": "string"
        },
        "command_options": {
          "title": "Command Options",
          "default": [],
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "working_directory",
        "execution_command"
      ]
    },
    "Environment": {
      "title": "Environment",
      "type": "object",
      "properties": {
        "multi_processing": {
          "$ref": "#/definitions/MultiProcessing"
        },
        "spline": {
          "$ref": "#/definitions/Spline"
        },
        "mesh": {
          "$ref": "#/definitions/Mesh"
        },
        "solver": {
          "$ref": "#/definitions/CommandLineSolver"
        }
      },
      "required": [
        "spline",
        "mesh",
        "solver"
      ]
    }
  }
}